// Auto-generated by UVM-AI
class {{ name }} extends uvm_env;

  `uvm_component_utils({{ name }})

  {% for agent in spec.agents %}
  {{ agent.name }} m_{{ agent.name }};
  {% endfor %}
  {% for sb in spec.scoreboards %}
  {{ sb.name }} m_{{ sb.name }};
  {% endfor %}

  function new(string name = "{{ name }}", uvm_component parent = null);
    super.new(name, parent);
  endfunction

  function void build_phase(uvm_phase phase);
    super.build_phase(phase);
    {% for agent in spec.agents %}
    m_{{ agent.name }} = {{ agent.name }}::type_id::create("m_{{ agent.name }}", this);
    {% endfor %}
    {% for sb in spec.scoreboards %}
    m_{{ sb.name }} = {{ sb.name }}::type_id::create("m_{{ sb.name }}", this);
    {% endfor %}
  endfunction

  function void connect_phase(uvm_phase phase);
    super.connect_phase(phase);
    {% for agent in spec.agents %}
    {% for sb in spec.scoreboards %}
    // Connect {{ agent.name }} monitor to {{ sb.name }}
    // m_{{ agent.name }}.m_monitor.analysis_port.connect(m_{{ sb.name }}.analysis_imp);
    {% endfor %}
    {% endfor %}
  endfunction

endclass
